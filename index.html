<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>Data analytics tools</title>
	<link rel="stylesheet" href="css/w3.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	
	<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>	
	<link rel="stylesheet" href="https:////cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css">
	<script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
	
	<script src="js/d3.v5.min.js"></script>
	<script src="js/script.js"></script>
	<!-- <script src="js/FileSaver.js-master/src/FileSaver.js"></script> -->
	
	<style>
		.logo {
			height: 60px;
			margin-bottom: 5px;
		}
	</style>
</head>

<body>
	<header class="w3-container w3-teal">
		<h1>Data analytics tools</h1>
	</header>
		
	<div class="w3-bar w3-dark-grey">
		<button class="w3-bar-item w3-button tablink w3-green" onclick="openTab(event, 'data_manipulator')">Data manipulator</button>
		<button class="w3-bar-item w3-button tablink" onclick="openTab(event, 'data_analyzer')">Data analyzer</button>
		<button class="w3-bar-item w3-button tablink" onclick="openTab(event, 'result_viewer')">Feature/result viewer</button>
		<button class="w3-bar-item w3-button tablink" onclick="openTab(event, 'visualization_explorer')">Visualization explorer</button>
	</div>

	<div id="data_manipulator" class="tab w3-animate-opacity">
	<!-- <div id="data_manipulator" class="tab w3-animate-opacity" style="display: none"> -->
		<div class="w3-sidebar w3-light-grey w3-bar-block" style="width: 260px;">
			<div class="w3-container">
				<h3>Load data</h3>
				<p><label>Upload a file</label></p>
				<p><input type="file" name="fileToUpload" id="fileToUpload"></p>
				<p>
					<button id="uploadFileBtn" class="w3-button w3-block w3-green w3-left-align" onclick="uploadFile()">
						<i class="fa fa-upload w3-margin-right"></i>
						Upload
						<i id="spinner" class="fa fa-spinner w3-margin-left w3-spin" style="visibility: hidden"></i>
					</button>
				</p>
				<hr>
				<p>Or</p>
				<hr>
				<p><label>Submit a query to the Data Lake</label></p>
				<p><textarea name="myQuery" class="w3-input w3-border" placeholder="Type your query here." style="resize: none;"></textarea></p>
				<p><button class="w3-button w3-block w3-green w3-left-align">
					<i class="fa fa-database w3-margin-right"></i>
					Submit
				</button></p>
			</div>
		</div>
		<div style="margin-left: 260px;">
			<div class="w3-container w3-padding-16">
				<table id="dataTable" class="display" width="100%"></table>
			</div>
		</div>
	</div>
	
	<div id="data_analyzer" class="tab w3-animate-opacity" style="display: none">
	<!-- <div id="data_analyzer" class="tab w3-animate-opacity"> -->
		<div class="w3-sidebar w3-light-grey w3-bar-block" style="width: 260px;">
			<div class="w3-container">
				<h3>Select analysis</h3>
				<p><label>Feature extraction</label></p>
				<p>
					<select id="featureExtractionSelect" class="w3-select w3-border" onchange="featureExtractionSelected()">
						<option value="" disabled selected>Choose method</option>
						<option value="summarization">Summarization</option>
						<option value="histogram">Histogram</option>
						<option value="pca">PCA</option>
						<option value="neural">Neural network-based</option>
					</select>
				</p>
				<p><label>Feature selection</label></p>
				<p>
					<select id="featureSelectionSelect" class="w3-select w3-border" onchange="featureSelectionSelected()">
						<option value="" disabled selected>Choose method</option>
						<option value="filter">Filter method</option>
						<option value="wrapper">Wrapper method</option>
					</select>
				</p>
				<p><label>Anomaly detection</label></p>
				<p>
					<select id="anomalyDetectionSelect" class="w3-select w3-border" onchange="anomalyDetectionSelected()">
						<option value="" disabled selected>Choose method</option>
						<option value="cusum">CUSUM</option>
						<option value="lof">LOF</option>
						<option value="extendedLof">Extended LOF</option>
						<option value="brpca">BRPCA</option>
						<option value="weightedCentroid">Weighted range-based centroid</option>
					</select>
				</p>
				<p><label>Probabilistic prediction models</label></p>
				<p>
					<select id="probabilisticPredictionSelect" class="w3-select w3-border" onchange="probabilisticPredictionSelected()">
						<option value="" disabled selected>Choose method</option>
						<option value="hmm">HMM</option>
					</select>
				</p>
				<p><label>Time series prediction</label></p>
				<p>
					<select id="timeseriesPredictionSelect" class="w3-select w3-border" onchange="timeseriesPredictionSelected()">
						<option value="" disabled selected>Choose method</option>
						<option value="arima">ARIMA</option>
						<option value="lagStarima">Lag-STARIMA</option>
					</select>
				</p>
				<p><label>Clustering</label></p>
				<p>
					<select id="clusteringSelect" class="w3-select w3-border" onchange="clusteringSelected()">
						<option value="" disabled selected>Choose method</option>
						<option value="kmeans">k-means</option>
						<option value="dbscan">dbscan</option>
						<option value="hierarchical">hierarchical</option>
					</select>
				</p>
				<p><label>Hypothesis testing</label></p>
				<p>
					<select id="hypothesisTestingSelect" class="w3-select w3-border" onchange="hypothesisTestingSelected()">
						<option value="" disabled selected>Choose method</option>
						<option value="tTest">t-test</option>
					</select>
				</p>
			</div>
		</div>
		<div style="margin-left: 260px;">
			<div class="analysis w3-container w3-display-container w3-padding-16" id="summarization" style="display: none">
				Summarization
			</div>
			<div class="analysis w3-container w3-display-container w3-padding-16" id="histogram" style="display: none">
				<div class="w3-sidebar w3-light-grey w3-bar-block" style="width: 260px;">
					<div class="w3-container">
						<h4>Histogram Options</h4>
						<p><label>Each entity is a</label></p>
						<p><select id="histogramEntitySelect" class="w3-select w3-border"></select></p>
						<p><label>Compute histogram based on</label></p>
						<p><select id="histogramAttributeSelect" class="w3-select w3-border"></select></p>
						<p>
							<button id="generateHistogramsBtn" class="w3-button w3-block w3-green w3-left-align" onclick="generateHistograms()">
								Generate histograms
							</button>
						</p>
						<!-- <p> -->
							<!-- <button id="useHistogramResultsBtn" class="w3-button w3-block w3-green w3-left-align" onclick="useHistogramResults()"> -->
								<!-- Use results as current data -->
							<!-- </button> -->
						<!-- </p> -->
						<p>
							<button id="exportResultsBtn" class="w3-button w3-block w3-green w3-left-align" onclick="exportResults()">
								Export results
							</button>
						</p>
					</div>
				</div>
				<div style="margin-left: 260px;">
					<div class="w3-container w3-padding-16">
						<table id="histogramsTable" class="display" width="100%"></table>
					</div>
				</div>
			</div>
			<div class="analysis w3-container w3-display-container w3-padding-16" id="pca" style="display: none">
				PCA
			</div>
			<div class="analysis w3-container w3-display-container w3-padding-16" id="neural" style="display: none">
				Neural network-based
			</div>
			<div class="analysis w3-container w3-display-container w3-padding-16" id="filter" style="display: none">
				Filter method
			</div>
			<div class="analysis w3-container w3-display-container w3-padding-16" id="wrapper" style="display: none">
				Wrapper method
			</div>
			<div class="analysis w3-container w3-display-container w3-padding-16" id="cusum" style="display: none">
				CUSUM
			</div>
			<div class="analysis w3-container w3-display-container w3-padding-16" id="lof" style="display: none">
				LOF
			</div>
			<div class="analysis w3-container w3-display-container w3-padding-16" id="extendedLof" style="display: none">
				Extended LOF
			</div>
			<div class="analysis w3-container w3-display-container w3-padding-16" id="brpca" style="display: none">
				BRPCA
			</div>
			<div class="analysis w3-container w3-display-container w3-padding-16" id="weightedCentroid" style="display: none">
				Weighted range-based centroid
			</div>
			<div class="analysis w3-container w3-display-container w3-padding-16" id="hmm" style="display: none">
				HMM
			</div>
			<div class="analysis w3-container w3-display-container w3-padding-16" id="arima" style="display: none">
				ARIMA
			</div>
			<div class="analysis w3-container w3-display-container w3-padding-16" id="lagStarima" style="display: none">
				Lag-STARIMA
			</div>
			<div class="analysis w3-container w3-display-container w3-padding-16" id="kmeans" style="display: none">
				k-means
			</div>
			<div class="analysis w3-container w3-display-container w3-padding-16" id="dbscan" style="display: none">
				DBSCAN
			</div>
			<div class="analysis w3-container w3-display-container w3-padding-16" id="hierarchical" style="display: none">
				Hierarchical
			</div>
			<div class="analysis w3-container w3-display-container w3-padding-16" id="tTest" style="display: none">
				t-test
			</div>
		</div>
	</div>
	
	<div id="result_viewer" class="tab w3-container w3-padding-16 w3-animate-opacity" style="display: none">
		Feature/result viewer
	</div>
	
	<div id="visualization_explorer" class="tab w3-container w3-padding-16 w3-animate-opacity" style="display: none">
		Visualization explorer
	</div>
	
	<footer class="w3-container w3-white w3-bottom">
		<img class="logo" src="img/activage-logo.png" alt="ACTIVAGE project logo">
	</footer>
	
	<script>
		function openTab(evt, tabName) {
			var tabs = document.getElementsByClassName("tab");
			for (var i = 0; i < tabs.length; i++) {
				tabs[i].style.display = "none";
			}
			tablinks = document.getElementsByClassName("tablink");
			for (i = 0; i < tabs.length; i++) {
				tablinks[i].className = tablinks[i].className.replace(" w3-green", "");
			}
			document.getElementById(tabName).style.display = "block";
			evt.currentTarget.className += " w3-green";
		}
		
		function openAnalysis(name) {
			var analyses = document.getElementsByClassName("analysis");
			for (var i = 0; i < analyses.length; i++) {
				analyses[i].style.display = "none";
			}
			document.getElementById(name).style.display = "block";
		}
	</script>
</body>

</html>
